{% if show_business_partner_menu %}
<div class="relative">
    <button data-dropdown-toggle="businessPartnerMenu" class="relative w-full flex items-center px-3 py-2 rounded-lg transition-all duration-300 hover:bg-[hsl(var(--accent))] group {% if 'BusinessPartnerMasterData:' in request.path %}bg-[hsl(var(--accent))] text-[hsl(var(--accent-foreground))]{% endif %}">
        <!-- Active indicator line with animation -->
        <div class="absolute left-[-4px] top-0 bottom-0 w-[3px] bg-gradient-to-r from-[hsl(var(--primary))] to-[hsl(var(--primary)/0.7)] rounded-r-full {% if 'BusinessPartnerMasterData:' in request.path %}opacity-100{% else %}opacity-0 group-hover:opacity-100{% endif %} transition-all duration-300 shadow-[0_0_8px_rgba(var(--primary),0.5)]"></div>
        
        <div class="w-6 h-6 mr-3 flex items-center justify-center rounded-lg bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] shadow-md group-hover:shadow-[0_0_12px_rgba(var(--primary),0.4)] transition-all duration-300 group-hover:scale-105">
            <!-- Updated Business Partners icon -->
            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M17 18C17 16.3431 14.7614 15 12 15C9.23858 15 7 16.3431 7 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                <path d="M12 12C13.6569 12 15 10.6569 15 9C15 7.34315 13.6569 6 12 6C10.3431 6 9 7.34315 9 9C9 10.6569 10.3431 12 12 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                <path d="M19 10V16M16 13H22" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                <path d="M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z" stroke="currentColor" stroke-width="2"/>
            </svg>
        </div>
        <span class="sidebar-text font-medium group-hover:translate-x-0.5 transition-transform">Business Partners</span>
        <svg class="w-4 h-4 ml-auto transition-transform duration-200" id="businessPartnerArrow" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M6 9L12 15L18 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </button>
    
    <!-- Business Partners Submenu -->
    <div id="businessPartnerMenu" class="{% if 'BusinessPartnerMasterData:' in request.path %}block animate-fade-in{% else %}hidden{% endif %} mt-2 space-y-1 ml-11 relative">
        <!-- Premium submenu vertical line indicator with gradient and glow -->
        <div class="absolute left-[-14px] top-0 bottom-0 w-[2px] bg-gradient-to-b from-[hsl(var(--primary))] via-[hsl(var(--primary)/0.6)] to-[hsl(var(--primary)/0.2)] rounded-full shadow-[0_0_8px_rgba(var(--primary),0.3)]"></div>
        <!-- <span class="px-4 py-2 text-xs font-bold rounded-full bg-gradient-to-r from-[hsl(var(--primary)/0.8)] to-[hsl(var(--primary)/1.2)] text-[hsl(var(--primary-foreground))] shadow-md premium-badge">Master Data</span> -->
   
        <!-- Customers & Suppliers -->
        <a href="{% url 'BusinessPartnerMasterData:business_partner_list' %}" class="relative block w-full pl-6 pr-3 py-2 rounded-lg transition-all duration-300 hover:bg-[hsl(var(--accent))] group {% if 'BusinessPartnerMasterData:business_partner_list' in request.path and not 'create' in request.path and not 'update' in request.path and not 'delete' in request.path and not 'detail' in request.path %}bg-[hsl(var(--accent))] text-[hsl(var(--accent-foreground))]{% endif %}">
            <!-- Submenu item indicator dot with pulse animation -->
            <div class="absolute left-[-15px] top-1/2 transform -translate-y-1/2 w-[4px] h-[4px] rounded-full bg-[hsl(var(--primary))] {% if 'BusinessPartnerMasterData:business_partner_list' in request.path and not 'create' in request.path and not 'update' in request.path and not 'delete' in request.path and not 'detail' in request.path %}opacity-100 animate-pulse{% else %}opacity-0 group-hover:opacity-100{% endif %} transition-opacity shadow-[0_0_5px_rgba(var(--primary),0.7)] group-hover:animate-pulse"></div>
            
            <div class="flex items-center">
                <div class="w-6 h-6 mr-3 flex items-center justify-center rounded-lg {% if 'BusinessPartnerMasterData:business_partner_list' in request.path and not 'create' in request.path and not 'update' in request.path and not 'delete' in request.path and not 'detail' in request.path %}bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] shadow-[0_0_10px_rgba(var(--primary),0.3)]{% else %}bg-[hsl(var(--muted))] group-hover:bg-[hsl(var(--primary))] group-hover:text-[hsl(var(--primary-foreground))]{% endif %} transition-colors duration-300 shadow-sm group-hover:shadow-[0_0_10px_rgba(var(--primary),0.3)]">
                    <!-- Updated Customers & Suppliers icon -->
                    <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M17 20C17 18.3431 14.7614 17 12 17C9.23858 17 7 18.3431 7 20" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        <path d="M12 14C13.6569 14 15 12.6569 15 11C15 9.34315 13.6569 8 12 8C10.3431 8 9 9.34315 9 11C9 12.6569 10.3431 14 12 14Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        <path d="M20 18C20 16.3431 18.3036 15 16.2 15C15.0095 15 13.9575 15.4022 13.3359 16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        <path d="M16 12C17.1046 12 18 11.1046 18 10C18 8.89543 17.1046 8 16 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        <path d="M4 18C4 16.3431 5.69645 15 7.8 15C8.99052 15 10.0425 15.4022 10.6641 16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        <path d="M8 12C6.89543 12 6 11.1046 6 10C6 8.89543 6.89543 8 8 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>
                </div>
                <div class="flex flex-col">
                    <span class="font-semibold text-sm group-hover:translate-x-0.5 transition-transform">Customers & Suppliers</span>
                    <span class="text-xs {% if 'BusinessPartnerMasterData:business_partner_list' in request.path and not 'create' in request.path and not 'update' in request.path and not 'delete' in request.path and not 'detail' in request.path %}text-[hsl(var(--foreground))]{% else %}text-[hsl(var(--muted-foreground))] group-hover:text-[hsl(var(--foreground))]{% endif %} transition-colors">Manage Customers & Suppliers</span>
                </div>
            </div>
        </a>


    </div>
</div>
{% endif %}
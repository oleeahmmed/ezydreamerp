<aside id="sidebar" class="hidden md:block relative border-r border-[hsl(var(--border))] bg-[hsl(var(--background))] transition-all duration-300" style="width: var(--sidebar-width);">
    <!-- Premium decorative vertical line with enhanced gradient and glow effect -->
    <div class="absolute left-0 top-0 bottom-0 w-[4px] bg-gradient-to-b from-[hsl(var(--primary))] via-[hsl(var(--primary)/0.7)] to-[hsl(var(--primary)/0.2)] opacity-80 shadow-[0_0_20px_rgba(var(--primary),0.6)]"></div>
    
    <!-- Secondary decorative line for depth effect -->
    <div class="absolute left-[5px] top-0 bottom-0 w-[1px] bg-gradient-to-b from-[hsl(var(--primary)/0.3)] via-[hsl(var(--primary)/0.1)] to-transparent opacity-50"></div>
    
    <!-- Logo -->
    <div class="p-4 border-b border-[hsl(var(--border))]">
        <div class="flex items-center gap-3">
            <div class="flex items-center justify-center w-10 h-10 rounded-xl bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] shadow-[0_0_15px_rgba(var(--primary),0.4)]">
                <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
            <div class="sidebar-text">
                <h1 class="text-lg font-semibold">{% block site_title %}Dashboard{% endblock %}</h1>
                <p class="text-xs text-[hsl(var(--muted-foreground))]">{% block site_subtitle %}Admin Portal{% endblock %}</p>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="p-4 space-y-4">
        <!-- Main Menu -->
        <div class="space-y-1">
            {% block sidebar_menu %}
            <!-- Dashboard -->
            <a href="{% url 'permission:dashboard'%}" class="relative w-full flex items-center px-3 py-2 rounded-lg transition-all duration-300 hover:bg-[hsl(var(--accent))] group {% if request.resolver_match.url_name == 'dashboard' %}bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))]{% endif %}">
                <!-- Active indicator line with animation -->
                <div class="absolute left-[-4px] top-0 bottom-0 w-[3px] bg-gradient-to-r from-[hsl(var(--primary))] to-[hsl(var(--primary)/0.7)] rounded-r-full {% if request.resolver_match.url_name == 'dashboard' %}opacity-100{% else %}opacity-0 group-hover:opacity-100{% endif %} transition-all duration-300 shadow-[0_0_8px_rgba(var(--primary),0.5)]"></div>
                
                <div class="w-8 h-8 mr-3 flex items-center justify-center rounded-lg bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] shadow-md group-hover:shadow-[0_0_12px_rgba(var(--primary),0.4)] transition-all duration-300 group-hover:scale-105">
                    <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="3" y="3" width="7" height="7" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        <rect x="14" y="3" width="7" height="7" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        <rect x="3" y="14" width="7" height="7" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        <rect x="14" y="14" width="7" height="7" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </div>
                <span class="font-medium group-hover:translate-x-0.5 transition-transform">Dashboard</span>
            </a>

            <!-- Authentication Menu -->
            <div class="relative">
                <button onclick="toggleAuthMenu()" class="relative w-full flex items-center px-3 py-2 rounded-lg transition-all duration-300 hover:bg-[hsl(var(--accent))] group {% if 'permission:user_list' in request.path or 'permission:group_list' in request.path or 'permission:permission_list' in request.path %}bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))]{% endif %}">
                    <!-- Active indicator line with animation -->
                    <div class="absolute left-[-4px] top-0 bottom-0 w-[3px] bg-gradient-to-r from-[hsl(var(--primary))] to-[hsl(var(--primary)/0.7)] rounded-r-full {% if 'permission:user_list' in request.path or 'permission:group_list' in request.path or 'permission:permission_list' in request.path %}opacity-100{% else %}opacity-0 group-hover:opacity-100{% endif %} transition-all duration-300 shadow-[0_0_8px_rgba(var(--primary),0.5)]"></div>
                    
                    <div class="w-8 h-8 mr-3 flex items-center justify-center rounded-lg bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] shadow-md group-hover:shadow-[0_0_12px_rgba(var(--primary),0.4)] transition-all duration-300 group-hover:scale-105">
                        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke="currentColor" stroke-width="2"/>
                            <path d="M19.4 15C19.1277 15.8031 19.2583 16.6846 19.75 17.4L19.81 17.49C20.2025 17.8827 20.4111 18.4353 20.3965 19.0054C20.3819 19.5755 20.1452 20.1163 19.73 20.49C19.3148 20.8637 18.7741 21.1004 18.204 21.115C17.6339 21.1296 17.0813 20.921 16.6886 20.5285L16.6 20.47C15.8846 19.9783 15.0031 19.8477 14.2 20.12C13.4101 20.3865 12.7935 21.0031 12.527 21.793L12.5 21.913C12.3724 22.4723 12.0467 22.9654 11.5833 23.3006C11.1199 23.6358 10.5499 23.7947 9.97002 23.7479C9.39016 23.7011 8.8526 23.4519 8.44804 23.0473C8.04348 22.6428 7.79429 22.1052 7.75002 21.5254L7.75002 21.4C7.71821 20.5868 7.32511 19.8372 6.68002 19.34C5.99033 18.8016 5.09577 18.6117 4.25002 18.82C3.68325 18.9861 3.07685 18.9106 2.55811 18.6082C2.03938 18.3057 1.64908 17.8015 1.46002 17.21C1.27478 16.6266 1.30843 15.9926 1.55524 15.4332C1.80205 14.8738 2.24558 14.4303 2.80502 14.1835L2.92502 14.13C3.71416 13.7613 4.29325 13.0844 4.52502 12.27C4.79728 11.4669 4.66672 10.5854 4.17502 9.87L4.11502 9.78C3.72258 9.38734 3.51397 8.83467 3.52858 8.26458C3.54319 7.69449 3.77988 7.15372 4.19502 6.78C4.61017 6.40627 5.15094 6.16959 5.72102 6.15498C6.29111 6.14037 6.84378 6.34897 7.23644 6.74142L7.32502 6.8C8.04044 7.29168 8.92189 7.42224 9.72502 7.15C10.515 6.88347 11.1316 6.26687 11.398 5.47697L11.425 5.357C11.5526 4.79774 11.8783 4.30461 12.3417 3.96941C12.8051 3.6342 13.3751 3.47527 13.955 3.52208C14.5349 3.56889 15.0724 3.81809 15.477 4.22264C15.8815 4.6272 16.1307 5.16476 16.175 5.74462V5.87C16.2068 6.68323 16.5999 7.43277 17.245 7.93C17.9347 8.46843 18.8293 8.65829 19.675 8.45C20.2418 8.28391 20.8482 8.35941 21.3669 8.66185C21.8857 8.96428 22.276 9.46853 22.465 10.06C22.6502 10.6434 22.6166 11.2774 22.3698 11.8368C22.123 12.3962 21.6794 12.8397 21.12 13.0865L20.999 13.14C20.2099 13.5087 19.6308 14.1856 19.399 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <span class="font-medium group-hover:translate-x-0.5 transition-transform">Authentication</span>
                    <svg class="w-4 h-4 ml-auto transition-transform duration-200" id="authArrow" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M6 9L12 15L18 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                
                <!-- Authentication Submenu -->
                <div id="authMenu" class="{% if 'permission:user_list' in request.path or 'permission:group_list' in request.path or 'permission:permission_list' in request.path %}block animate-fade-in{% else %}hidden{% endif %} mt-2 space-y-1 ml-11 relative">
                    <!-- Premium submenu vertical line indicator with gradient and glow -->
                    <div class="absolute left-[-14px] top-0 bottom-0 w-[2px] bg-gradient-to-b from-[hsl(var(--primary))] via-[hsl(var(--primary)/0.6)] to-[hsl(var(--primary)/0.2)] rounded-full shadow-[0_0_8px_rgba(var(--primary),0.3)]"></div>
                    
                    {% if show_permission_menu %}
                        <!-- Users -->
                        <a href="{% url 'permission:user_list' %}" class="relative block w-full pl-6 pr-3 py-2 rounded-lg transition-all duration-300 hover:bg-[hsl(var(--accent))] group {% if 'permission:user_list' in request.path %}bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))]{% endif %}">
                            <!-- Submenu item indicator dot with pulse animation -->
                            <div class="absolute left-[-15px] top-1/2 transform -translate-y-1/2 w-[4px] h-[4px] rounded-full bg-[hsl(var(--primary))] {% if 'permission:user_list' in request.path %}opacity-100 animate-pulse{% else %}opacity-0 group-hover:opacity-100{% endif %} transition-opacity shadow-[0_0_5px_rgba(var(--primary),0.7)] group-hover:animate-pulse"></div>
                            
                            <div class="flex items-center">
                                <div class="w-9 h-9 mr-3 flex items-center justify-center rounded-lg {% if 'permission:user_list' in request.path %}bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] shadow-[0_0_10px_rgba(var(--primary),0.3)]{% else %}bg-[hsl(var(--muted))] group-hover:bg-[hsl(var(--primary))] group-hover:text-[hsl(var(--primary-foreground))]{% endif %} transition-colors duration-300 shadow-sm group-hover:shadow-[0_0_10px_rgba(var(--primary),0.3)]">
                                    <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                        <path d="M6 21V19C6 17.9391 6.42143 16.9217 7.17157 16.1716C7.92172 15.4214 8.93913 15 10 15H14C15.0609 15 16.0783 15.4214 16.8284 16.1716C17.5786 16.9217 18 17.9391 18 19V21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </div>
                                <div class="flex flex-col">
                                    <span class="font-semibold text-sm group-hover:translate-x-0.5 transition-transform">Users</span>
                                    <span class="text-xs {% if 'permission:user_list' in request.path %}text-[hsl(var(--primary-foreground))]{% else %}text-[hsl(var(--muted-foreground))] group-hover:text-[hsl(var(--foreground))]{% endif %} transition-colors">Manage system users</span>
                                </div>
                            </div>
                        </a>

                        <!-- Groups -->
                        <a href="{% url 'permission:group_list' %}" class="relative block w-full pl-6 pr-3 py-2 rounded-lg transition-all duration-300 hover:bg-[hsl(var(--accent))] group {% if 'permission:group_list' in request.path %}bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))]{% endif %}">
                            <!-- Submenu item indicator dot with pulse animation -->
                            <div class="absolute left-[-15px] top-1/2 transform -translate-y-1/2 w-[4px] h-[4px] rounded-full bg-[hsl(var(--primary))] {% if 'permission:group_list' in request.path %}opacity-100 animate-pulse{% else %}opacity-0 group-hover:opacity-100{% endif %} transition-opacity shadow-[0_0_5px_rgba(var(--primary),0.7)] group-hover:animate-pulse"></div>
                            
                            <div class="flex items-center">
                                <div class="w-9 h-9 mr-3 flex items-center justify-center rounded-lg {% if 'permission:group_list' in request.path %}bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] shadow-[0_0_10px_rgba(var(--primary),0.3)]{% else %}bg-[hsl(var(--muted))] group-hover:bg-[hsl(var(--primary))] group-hover:text-[hsl(var(--primary-foreground))]{% endif %} transition-colors duration-300 shadow-sm group-hover:shadow-[0_0_10px_rgba(var(--primary),0.3)]">
                                    <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M17 20H22V18C22 16.3431 20.6569 15 19 15C18.0444 15 17.1931 15.4468 16.6438 16.1429M17 20H7M17 20V18C17 17.3438 16.8736 16.717 16.6438 16.1429M7 20H2V18C2 16.3431 3.34315 15 5 15C5.95561 15 6.80686 15.4468 7.35625 16.1429M7 20V18C7 17.3438 7.12642 16.717 7.35625 16.1429M7.35625 16.1429C8.0935 14.301 9.89482 13 12 13C14.1052 13 15.9065 14.301 16.6438 16.1429M15 7C15 8.65685 13.6569 10 12 10C10.3431 10 9 8.65685 9 7C9 5.34315 10.3431 4 12 4C13.6569 4 15 5.34315 15 7ZM21 10C21 11.1046 20.1046 12 19 12C17.8954 12 17 11.1046 17 10C17 8.89543 17.8954 8 19 8C20.1046 8 21 8.89543 21 10ZM7 10C7 11.1046 6.10457 12 5 12C3.89543 12 3 11.1046 3 10C3 8.89543 3.89543 8 5 8C6.10457 8 7 8.89543 7 10Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </div>
                                <div class="flex flex-col">
                                    <span class="font-semibold text-sm group-hover:translate-x-0.5 transition-transform">Groups</span>
                                    <span class="text-xs {% if 'permission:group_list' in request.path %}text-[hsl(var(--primary-foreground))]{% else %}text-[hsl(var(--muted-foreground))] group-hover:text-[hsl(var(--foreground))]{% endif %} transition-colors">Manage user groups</span>
                                </div>
                            </div>
                        </a>

                        <!-- Permissions -->
                        <a href="{% url 'permission:permission_list' %}" class="relative block w-full pl-6 pr-3 py-2 rounded-lg transition-all duration-300 hover:bg-[hsl(var(--accent))] group {% if 'permission:permission_list' in request.path %}bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))]{% endif %}">
                            <!-- Submenu item indicator dot with pulse animation -->
                            <div class="absolute left-[-15px] top-1/2 transform -translate-y-1/2 w-[4px] h-[4px] rounded-full bg-[hsl(var(--primary))] {% if 'permission:permission_list' in request.path %}opacity-100 animate-pulse{% else %}opacity-0 group-hover:opacity-100{% endif %} transition-opacity shadow-[0_0_5px_rgba(var(--primary),0.7)] group-hover:animate-pulse"></div>
                            
                            <div class="flex items-center">
                                <div class="w-9 h-9 mr-3 flex items-center justify-center rounded-lg {% if 'permission:permission_list' in request.path %}bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] shadow-[0_0_10px_rgba(var(--primary),0.3)]{% else %}bg-[hsl(var(--muted))] group-hover:bg-[hsl(var(--primary))] group-hover:text-[hsl(var(--primary-foreground))]{% endif %} transition-colors duration-300 shadow-sm group-hover:shadow-[0_0_10px_rgba(var(--primary),0.3)]">
                                    <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke="currentColor" stroke-width="2"/>
                                        <path d="M19.4 15C19.1277 15.8031 19.2583 16.6846 19.75 17.4L19.81 17.49C20.2025 17.8827 20.4111 18.4353 20.3965 19.0054C20.3819 19.5755 20.1452 20.1163 19.73 20.49C19.3148 20.8637 18.7741 21.1004 18.204 21.115C17.6339 21.1296 17.0813 20.921 16.6886 20.5285L16.6 20.47C15.8846 19.9783 15.0031 19.8477 14.2 20.12C13.4101 20.3865 12.7935 21.0031 12.527 21.793L12.5 21.913C12.3724 22.4723 12.0467 22.9654 11.5833 23.3006C11.1199 23.6358 10.5499 23.7947 9.97002 23.7479C9.39016 23.7011 8.8526 23.4519 8.44804 23.0473C8.04348 22.6428 7.79429 22.1052 7.75002 21.5254L7.75002 21.4C7.71821 20.5868 7.32511 19.8372 6.68002 19.34C5.99033 18.8016 5.09577 18.6117 4.25002 18.82C3.68325 18.9861 3.07685 18.9106 2.55811 18.6082C2.03938 18.3057 1.64908 17.8015 1.46002 17.21C1.27478 16.6266 1.30843 15.9926 1.55524 15.4332C1.80205 14.8738 2.24558 14.4303 2.80502 14.1835L2.92502 14.13C3.71416 13.7613 4.29325 13.0844 4.52502 12.27C4.79728 11.4669 4.66672 10.5854 4.17502 9.87L4.11502 9.78C3.72258 9.38734 3.51397 8.83467 3.52858 8.26458C3.54319 7.69449 3.77988 7.15372 4.19502 6.78C4.61017 6.40627 5.15094 6.16959 5.72102 6.15498C6.29111 6.14037 6.84378 6.34897 7.23644 6.74142L7.32502 6.8C8.04044 7.29168 8.92189 7.42224 9.72502 7.15C10.515 6.88347 11.1316 6.26687 11.398 5.47697L11.425 5.357C11.5526 4.79774 11.8783 4.30461 12.3417 3.96941C12.8051 3.6342 13.3751 3.47527 13.955 3.52208C14.5349 3.56889 15.0724 3.81809 15.477 4.22264C15.8815 4.6272 16.1307 5.16476 16.175 5.74462V5.87C16.2068 6.68323 16.5999 7.43277 17.245 7.93C17.9347 8.46843 18.8293 8.65829 19.675 8.45C20.2418 8.28391 20.8482 8.35941 21.3669 8.66185C21.8857 8.96428 22.276 9.46853 22.465 10.06C22.6502 10.6434 22.6166 11.2774 22.3698 11.8368C22.123 12.3962 21.6794 12.8397 21.12 13.0865L20.999 13.14C20.2099 13.5087 19.6308 14.1856 19.399 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </div>
                                <div class="flex flex-col">
                                    <span class="font-semibold text-sm group-hover:translate-x-0.5 transition-transform">Permissions</span>
                                    <span class="text-xs {% if 'permission:permission_list' in request.path %}text-[hsl(var(--primary-foreground))]{% else %}text-[hsl(var(--muted-foreground))] group-hover:text-[hsl(var(--foreground))]{% endif %} transition-colors">Manage system permissions</span>
                                </div>
                            </div>
                        </a>
                    {% endif %}
                </div>
            </div>

            <!-- Business Partners Menu -->
            {% if show_business_partner_menu %}
            <div class="relative">
                <button onclick="toggleBusinessPartnerMenu()" class="relative w-full flex items-center px-3 py-2 rounded-lg transition-all duration-300 hover:bg-[hsl(var(--accent))] group {% if 'BusinessPartnerMasterData:business_partner_list' in request.path %}bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))]{% endif %}">
                    <!-- Active indicator line with animation -->
                    <div class="absolute left-[-4px] top-0 bottom-0 w-[3px] bg-gradient-to-r from-[hsl(var(--primary))] to-[hsl(var(--primary)/0.7)] rounded-r-full {% if 'BusinessPartnerMasterData:business_partner_list' in request.path %}opacity-100{% else %}opacity-0 group-hover:opacity-100{% endif %} transition-all duration-300 shadow-[0_0_8px_rgba(var(--primary),0.5)]"></div>
                    
                    <div class="w-8 h-8 mr-3 flex items-center justify-center rounded-lg bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] shadow-md group-hover:shadow-[0_0_12px_rgba(var(--primary),0.4)] transition-all duration-300 group-hover:scale-105">
                        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M20 18L14 18M17 15L17 21M12 15C12 17.2091 10.2091 19 8 19C5.79086 19 4 17.2091 4 15C4 12.7909 5.79086 11 8 11C10.2091 11 12 12.7909 12 15ZM12 15V15.0001M8 7C10.2091 7 12 5.20914 12 3M4 3C4 5.20914 5.79086 7 8 7M16 7C18.2091 7 20 5.20914 20 3M20 7C20 4.79086 18.2091 3 16 3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <span class="font-medium group-hover:translate-x-0.5 transition-transform">Business Partners</span>
                    <svg class="w-4 h-4 ml-auto transition-transform duration-200" id="businessPartnerArrow" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M6 9L12 15L18 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                
                <!-- Business Partners Submenu -->
                <div id="businessPartnerMenu" class="{% if 'BusinessPartnerMasterData:business_partner_list' in request.path %}block animate-fade-in{% else %}hidden{% endif %} mt-2 space-y-1 ml-11 relative">
                    <!-- Premium submenu vertical line indicator with gradient and glow -->
                    <div class="absolute left-[-14px] top-0 bottom-0 w-[2px] bg-gradient-to-b from-[hsl(var(--primary))] via-[hsl(var(--primary)/0.6)] to-[hsl(var(--primary)/0.2)] rounded-full shadow-[0_0_8px_rgba(var(--primary),0.3)]"></div>
                    
                    <!-- Overview -->
                    <a href="#" class="relative block w-full pl-6 pr-3 py-2 rounded-lg transition-all duration-300 hover:bg-[hsl(var(--accent))] group {% if request.path == '#' %}bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))]{% endif %}">
                        <!-- Submenu item indicator dot with pulse animation -->
                        <div class="absolute left-[-15px] top-1/2 transform -translate-y-1/2 w-[4px] h-[4px] rounded-full bg-[hsl(var(--primary))] {% if request.path == '#' %}opacity-100 animate-pulse{% else %}opacity-0 group-hover:opacity-100{% endif %} transition-opacity shadow-[0_0_5px_rgba(var(--primary),0.7)] group-hover:animate-pulse"></div>
                        
                        <div class="flex items-center">
                            <div class="w-9 h-9 mr-3 flex items-center justify-center rounded-lg {% if request.path == '#' %}bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] shadow-[0_0_10px_rgba(var(--primary),0.3)]{% else %}bg-[hsl(var(--muted))] group-hover:bg-[hsl(var(--primary))] group-hover:text-[hsl(var(--primary-foreground))]{% endif %} transition-colors duration-300 shadow-sm group-hover:shadow-[0_0_10px_rgba(var(--primary),0.3)]">
                                <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke="currentColor" stroke-width="1.5"/>
                                    <path d="M20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12Z" stroke="currentColor" stroke-width="1.5"/>
                                </svg>
                            </div>
                            <div class="flex flex-col">
                                <span class="font-semibold text-sm group-hover:translate-x-0.5 transition-transform">Overview</span>
                                <span class="text-xs {% if request.path == '#' %}text-[hsl(var(--primary-foreground))]{% else %}text-[hsl(var(--muted-foreground))] group-hover:text-[hsl(var(--foreground))]{% endif %} transition-colors">Partner dashboard</span>
                            </div>
                        </div>
                    </a>
            
                    <!-- Customers & Suppliers -->
                    <a href="{% url 'BusinessPartnerMasterData:business_partner_list' %}" class="relative block w-full pl-6 pr-3 py-2 rounded-lg transition-all duration-300 hover:bg-[hsl(var(--accent))] group {% if 'BusinessPartnerMasterData:business_partner_list' in request.path %}bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))]{% endif %}">
                        <!-- Submenu item indicator dot with pulse animation -->
                        <div class="absolute left-[-15px] top-1/2 transform -translate-y-1/2 w-[4px] h-[4px] rounded-full bg-[hsl(var(--primary))] {% if 'BusinessPartnerMasterData:business_partner_list' in request.path %}opacity-100 animate-pulse{% else %}opacity-0 group-hover:opacity-100{% endif %} transition-opacity shadow-[0_0_5px_rgba(var(--primary),0.7)] group-hover:animate-pulse"></div>
                        
                        <div class="flex items-center">
                            <div class="w-9 h-9 mr-3 flex items-center justify-center rounded-lg {% if 'BusinessPartnerMasterData:business_partner_list' in request.path %}bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] shadow-[0_0_10px_rgba(var(--primary),0.3)]{% else %}bg-[hsl(var(--muted))] group-hover:bg-[hsl(var(--primary))] group-hover:text-[hsl(var(--primary-foreground))]{% endif %} transition-colors duration-300 shadow-sm group-hover:shadow-[0_0_10px_rgba(var(--primary),0.3)]">
                                <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z" stroke="currentColor" stroke-width="1.5"/>
                                    <path d="M12 14C8.13401 14 5 17.134 5 21H19C19 17.134 15.866 14 12 14Z" stroke="currentColor" stroke-width="1.5"/>
                                </svg>
                            </div>
                            <div class="flex flex-col">
                                <span class="font-semibold text-sm group-hover:translate-x-0.5 transition-transform">Customers & Suppliers</span>
                                <span class="text-xs {% if 'BusinessPartnerMasterData:business_partner_list' in request.path %}text-[hsl(var(--primary-foreground))]{% else %}text-[hsl(var(--muted-foreground))] group-hover:text-[hsl(var(--foreground))]{% endif %} transition-colors">Manage Customers & Suppliers</span>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
            {% endif %}

            <!-- Inventory Menu -->
            {% if show_inventory_menu %}
            <div class="relative">
                <button onclick="toggleInventoryMenu()" class="relative w-full flex items-center px-3 py-2 rounded-lg transition-all duration-300 hover:bg-[hsl(var(--accent))] group {% if 'Inventory:' in request.path %}bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))]{% endif %}">
                    <!-- Active indicator line with animation -->
                    <div class="absolute left-[-4px] top-0 bottom-0 w-[3px] bg-gradient-to-r from-[hsl(var(--primary))] to-[hsl(var(--primary)/0.7)] rounded-r-full {% if 'Inventory:' in request.path %}opacity-100{% else %}opacity-0 group-hover:opacity-100{% endif %} transition-all duration-300 shadow-[0_0_8px_rgba(var(--primary),0.5)]"></div>
                    
                    <div class="w-8 h-8 mr-3 flex items-center justify-center rounded-lg bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] shadow-md group-hover:shadow-[0_0_12px_rgba(var(--primary),0.4)] transition-all duration-300 group-hover:scale-105">
                        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M20 3H4C2.89543 3 2 3.89543 2 5V19C2 20.1046 2.89543 21 4 21H20C21.1046 21 22 20.1046 22 19V5C22 3.89543 21.1046 3 20 3Z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <path d="M16 8H8M16 12H8M16 16H8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <span class="font-medium group-hover:translate-x-0.5 transition-transform">Inventory</span>
                    <svg class="w-4 h-4 ml-auto transition-transform duration-200" id="inventoryArrow" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M6 9L12 15L18 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                
                <!-- Inventory Submenu -->
                <div id="inventoryMenu" class="{% if 'Inventory:' in request.path %}block animate-fade-in{% else %}hidden{% endif %} mt-2 space-y-1 ml-11 relative">
                    <!-- Premium submenu vertical line indicator with gradient and glow -->
                    <div class="absolute left-[-14px] top-0 bottom-0 w-[2px] bg-gradient-to-b from-[hsl(var(--primary))] via-[hsl(var(--primary)/0.6)] to-[hsl(var(--primary)/0.2)] rounded-full shadow-[0_0_8px_rgba(var(--primary),0.3)]"></div>
                    
                    <!-- Unit -->
                    <a href="{% url 'Inventory:uom_list'%}" class="relative block w-full pl-6 pr-3 py-2 rounded-lg transition-all duration-300 hover:bg-[hsl(var(--accent))] group {% if 'Inventory:uom_list' in request.path %}bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))]{% endif %}">
                        <!-- Submenu item indicator dot with pulse animation -->
                        <div class="absolute left-[-15px] top-1/2 transform -translate-y-1/2 w-[4px] h-[4px] rounded-full bg-[hsl(var(--primary))] {% if 'Inventory:uom_list' in request.path %}opacity-100 animate-pulse{% else %}opacity-0 group-hover:opacity-100{% endif %} transition-opacity shadow-[0_0_5px_rgba(var(--primary),0.7)] group-hover:animate-pulse"></div>
                        
                        <div class="flex items-center">
                            <div class="w-9 h-9 mr-3 flex items-center justify-center rounded-lg {% if 'Inventory:uom_list' in request.path %}bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] shadow-[0_0_10px_rgba(var(--primary),0.3)]{% else %}bg-[hsl(var(--muted))] group-hover:bg-[hsl(var(--primary))] group-hover:text-[hsl(var(--primary-foreground))]{% endif %} transition-colors duration-300 shadow-sm group-hover:shadow-[0_0_10px_rgba(var(--primary),0.3)]">
                                <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M20 7H4C2.89543 7 2 7.89543 2 9V19C2 20.1046 2.89543 21 4 21H20C21.1046 21 22 20.1046 22 19V9C22 7.89543 21.1046 7 20 7Z" stroke="currentColor" stroke-width="1.5"/>
                                    <path d="M16 7V5C16 3.89543 15.1046 3 14 3H10C8.89543 3 8 3.89543 8 5V7" stroke="currentColor" stroke-width="1.5"/>
                                </svg>
                            </div>
                            <div class="flex flex-col">
                                <span class="font-semibold text-sm group-hover:translate-x-0.5 transition-transform">Unit</span>
                                <span class="text-xs {% if 'Inventory:uom_list' in request.path %}text-[hsl(var(--primary-foreground))]{% else %}text-[hsl(var(--muted-foreground))] group-hover:text-[hsl(var(--foreground))]{% endif %} transition-colors">Unit Of Measurement</span>
                            </div>
                        </div>
                    </a>
            
                    <!-- Categories -->
                    <a href="{% url 'Inventory:item_group_list'%}" class="relative block w-full pl-6 pr-3 py-2 rounded-lg transition-all duration-300 hover:bg-[hsl(var(--accent))] group {% if 'Inventory:item_group_list' in request.path %}bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))]{% endif %}">
                        <!-- Submenu item indicator dot with pulse animation -->
                        <div class="absolute left-[-15px] top-1/2 transform -translate-y-1/2 w-[4px] h-[4px] rounded-full bg-[hsl(var(--primary))] {% if 'Inventory:item_group_list' in request.path %}opacity-100 animate-pulse{% else %}opacity-0 group-hover:opacity-100{% endif %} transition-opacity shadow-[0_0_5px_rgba(var(--primary),0.7)] group-hover:animate-pulse"></div>
                        
                        <div class="flex items-center">
                            <div class="w-9 h-9 mr-3 flex items-center justify-center rounded-lg {% if 'Inventory:item_group_list' in request.path %}bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] shadow-[0_0_10px_rgba(var(--primary),0.3)]{% else %}bg-[hsl(var(--muted))] group-hover:bg-[hsl(var(--primary))] group-hover:text-[hsl(var(--primary-foreground))]{% endif %} transition-colors duration-300 shadow-sm group-hover:shadow-[0_0_10px_rgba(var(--primary),0.3)]">
                                <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M3 3H21M3 8H21M3 13H21M3 18H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                </svg>
                            </div>
                            <div class="flex flex-col">
                                <span class="font-semibold text-sm group-hover:translate-x-0.5 transition-transform">Categories</span>
                                <span class="text-xs {% if 'Inventory:item_group_list' in request.path %}text-[hsl(var(--primary-foreground))]{% else %}text-[hsl(var(--muted-foreground))] group-hover:text-[hsl(var(--foreground))]{% endif %} transition-colors">Item Groups</span>
                            </div>
                        </div>
                    </a>
            
                    <!-- Warehouses -->
                    <a href="{% url 'Inventory:warehouse_list'%}" class="relative block w-full pl-6 pr-3 py-2 rounded-lg transition-all duration-300 hover:bg-[hsl(var(--accent))] group {% if 'Inventory:warehouse_list' in request.path %}bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))]{% endif %}">
                        <!-- Submenu item indicator dot with pulse animation -->
                        <div class="absolute left-[-15px] top-1/2 transform -translate-y-1/2 w-[4px] h-[4px] rounded-full bg-[hsl(var(--primary))] {% if 'Inventory:warehouse_list' in request.path %}opacity-100 animate-pulse{% else %}opacity-0 group-hover:opacity-100{% endif %} transition-opacity shadow-[0_0_5px_rgba(var(--primary),0.7)] group-hover:animate-pulse"></div>
                        
                        <div class="flex items-center">
                            <div class="w-9 h-9 mr-3 flex items-center justify-center rounded-lg {% if 'Inventory:warehouse_list' in request.path %}bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] shadow-[0_0_10px_rgba(var(--primary),0.3)]{% else %}bg-[hsl(var(--muted))] group-hover:bg-[hsl(var(--primary))] group-hover:text-[hsl(var(--primary-foreground))]{% endif %} transition-colors duration-300 shadow-sm group-hover:shadow-[0_0_10px_rgba(var(--primary),0.3)]">
                                <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9 5H7C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V7C19 5.89543 18.1046 5 17 5H15M9 5C9 6.10457 9.89543 7 11 7H13C14.1046 7 15 6.10457 15 5M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5" stroke="currentColor" stroke-width="1.5"/>
                                </svg>
                            </div>
                            <div class="flex flex-col">
                                <span class="font-semibold text-sm group-hover:translate-x-0.5 transition-transform">Warehouses</span>
                                <span class="text-xs {% if 'Inventory:warehouse_list' in request.path %}text-[hsl(var(--primary-foreground))]{% else %}text-[hsl(var(--muted-foreground))] group-hover:text-[hsl(var(--foreground))]{% endif %} transition-colors">Manage Warehouse</span>
                            </div>
                        </div>
                    </a>

                    <!-- Item Information -->
                    <a href="{% url 'Inventory:item_list'%}" class="relative block w-full pl-6 pr-3 py-2 rounded-lg transition-all duration-300 hover:bg-[hsl(var(--accent))] group {% if 'Inventory:item_list' in request.path %}bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))]{% endif %}">
                        <!-- Submenu item indicator dot with pulse animation -->
                        <div class="absolute left-[-15px] top-1/2 transform -translate-y-1/2 w-[4px] h-[4px] rounded-full bg-[hsl(var(--primary))] {% if 'Inventory:item_list' in request.path %}opacity-100 animate-pulse{% else %}opacity-0 group-hover:opacity-100{% endif %} transition-opacity shadow-[0_0_5px_rgba(var(--primary),0.7)] group-hover:animate-pulse"></div>
                        
                        <div class="flex items-center">
                            <div class="w-9 h-9 mr-3 flex items-center justify-center rounded-lg {% if 'Inventory:item_list' in request.path %}bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] shadow-[0_0_10px_rgba(var(--primary),0.3)]{% else %}bg-[hsl(var(--muted))] group-hover:bg-[hsl(var(--primary))] group-hover:text-[hsl(var(--primary-foreground))]{% endif %} transition-colors duration-300 shadow-sm group-hover:shadow-[0_0_10px_rgba(var(--primary),0.3)]">
                                <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" stroke="currentColor" stroke-width="1.5"/>
                                    <path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" stroke="currentColor" stroke-width="1.5"/>
                                </svg>
                            </div>
                            <div class="flex flex-col">
                                <span class="font-semibold text-sm group-hover:translate-x-0.5 transition-transform">Item information</span>
                                <span class="text-xs {% if 'Inventory:item_list' in request.path %}text-[hsl(var(--primary-foreground))]{% else %}text-[hsl(var(--muted-foreground))] group-hover:text-[hsl(var(--foreground))]{% endif %} transition-colors">Inventory settings</span>
                            </div>
                        </div>
                    </a>

                    <!-- Item Warehouse -->
                    <a href="{% url 'Inventory:item_warehouse_info_list'%}" class="relative block w-full pl-6 pr-3 py-2 rounded-lg transition-all duration-300 hover:bg-[hsl(var(--accent))] group {% if 'Inventory:item_warehouse_info_list' in request.path %}bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))]{% endif %}">
                        <!-- Submenu item indicator dot with pulse animation -->
                        <div class="absolute left-[-15px] top-1/2 transform -translate-y-1/2 w-[4px] h-[4px] rounded-full bg-[hsl(var(--primary))] {% if 'Inventory:item_warehouse_info_list' in request.path %}opacity-100 animate-pulse{% else %}opacity-0 group-hover:opacity-100{% endif %} transition-opacity shadow-[0_0_5px_rgba(var(--primary),0.7)] group-hover:animate-pulse"></div>
                        
                        <div class="flex items-center">
                            <div class="w-9 h-9 mr-3 flex items-center justify-center rounded-lg {% if 'Inventory:item_warehouse_info_list' in request.path %}bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] shadow-[0_0_10px_rgba(var(--primary),0.3)]{% else %}bg-[hsl(var(--muted))] group-hover:bg-[hsl(var(--primary))] group-hover:text-[hsl(var(--primary-foreground))]{% endif %} transition-colors duration-300 shadow-sm group-hover:shadow-[0_0_10px_rgba(var(--primary),0.3)]">
                                <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" stroke="currentColor" stroke-width="1.5"/>
                                    <path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" stroke="currentColor" stroke-width="1.5"/>
                                </svg>
                            </div>
                            <div class="flex flex-col">
                                <span class="font-semibold text-sm group-hover:translate-x-0.5 transition-transform">Item Warehouse</span>
                                <span class="text-xs {% if 'Inventory:item_warehouse_info_list' in request.path %}text-[hsl(var(--primary-foreground))]{% else %}text-[hsl(var(--muted-foreground))] group-hover:text-[hsl(var(--foreground))]{% endif %} transition-colors">Item In Warehouse information</span>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
            {% endif %}
            {% endblock %}
        </div>

        <!-- Quick Actions -->
        <div class="mt-6 pt-6 border-t border-[hsl(var(--border))]">
            <h3 class="px-3 mb-2 text-xs font-medium text-[hsl(var(--muted-foreground))]">QUICK ACTIONS</h3>
            <div class="grid grid-cols-2 gap-2">
                {% block quick_actions %}
                <button class="relative flex flex-col items-center justify-center p-4 rounded-lg border border-[hsl(var(--border))] bg-gradient-to-br from-[hsl(var(--background))] to-[hsl(var(--muted))] hover:bg-[hsl(var(--accent))] hover:border-[hsl(var(--primary))] hover:-translate-y-0.5 hover:shadow-md transition-all duration-300 group overflow-hidden">
                    <!-- Button glow effect -->
                    <div class="absolute inset-0 bg-gradient-to-r from-[hsl(var(--primary)/0)] via-[hsl(var(--primary)/0.1)] to-[hsl(var(--primary)/0)] opacity-0 group-hover:opacity-100 blur-xl transition-opacity duration-500"></div>
                    
                    <div class="flex items-center justify-center w-8 h-8 mb-2 rounded-full bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] transform group-hover:scale-110 transition-transform shadow-[0_0_10px_rgba(var(--primary),0.3)] group-hover:shadow-[0_0_15px_rgba(var(--primary),0.5)]">
                        <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <span class="text-xs font-medium relative z-10">New Order</span>
                </button>
                
                <button class="relative flex flex-col items-center justify-center p-4 rounded-lg border border-[hsl(var(--border))] bg-gradient-to-br from-[hsl(var(--background))] to-[hsl(var(--muted))] hover:bg-[hsl(var(--accent))] hover:border-[hsl(var(--primary))] hover:-translate-y-0.5 hover:shadow-md transition-all duration-300 group overflow-hidden">
                    <!-- Button glow effect -->
                    <div class="absolute inset-0 bg-gradient-to-r from-[hsl(var(--primary)/0)] via-[hsl(var(--primary)/0.1)] to-[hsl(var(--primary)/0)] opacity-0 group-hover:opacity-100 blur-xl transition-opacity duration-500"></div>
                    
                    <div class="flex items-center justify-center w-8 h-8 mb-2 rounded-full bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] transform group-hover:scale-110 transition-transform shadow-[0_0_10px_rgba(var(--primary),0.3)] group-hover:shadow-[0_0_15px_rgba(var(--primary),0.5)]">
                        <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <span class="text-xs font-medium relative z-10">Add User</span>
                </button>
                {% endblock %}
            </div>
        </div>
    </nav>

    <!-- Profile Card -->
    <div class="p-4 border-t border-[hsl(var(--border))]">
        <!-- Premium gradient divider above profile card -->
        <div class="absolute left-0 right-0 h-[2px] -top-[1px] bg-gradient-to-r from-[hsl(var(--primary)/0.2)] via-[hsl(var(--primary))] to-[hsl(var(--primary)/0.2)] opacity-70 shadow-[0_0_8px_rgba(var(--primary),0.4)]"></div>
        
        <div class="flex items-center gap-4 relative">
            <!-- Profile picture with glow effect -->
            <div class="relative group">
                {% if request.user.profile.profile_picture %}
                    <div class="absolute inset-0 rounded-full bg-gradient-to-r from-[hsl(var(--primary))] to-[hsl(var(--primary)/0.5)] opacity-0 group-hover:opacity-100 blur-md transition-opacity duration-300"></div>
                    <img src="{{ request.user.profile.profile_picture.url }}" 
                         alt="Profile Picture"
                         class="relative w-12 h-12 rounded-full object-cover border-2 border-[hsl(var(--border))] group-hover:border-[hsl(var(--primary))] transition-all duration-300 z-10">
                {% else %}
                    <div class="absolute inset-0 rounded-full bg-gradient-to-r from-[hsl(var(--primary))] to-[hsl(var(--primary)/0.5)] opacity-0 group-hover:opacity-100 blur-md transition-opacity duration-300"></div>
                    <div class="relative w-12 h-12 rounded-full bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] flex items-center justify-center text-xl font-semibold shadow-[0_0_15px_rgba(var(--primary),0.3)] group-hover:shadow-[0_0_20px_rgba(var(--primary),0.5)] transition-all duration-300 z-10">
                        {{ request.user.username|make_list|first|upper }}
                    </div>
                {% endif %}
                <!-- Status indicator with pulse animation -->
                <div class="absolute -bottom-1 -right-1 w-4 h-4 rounded-full bg-green-500 border-2 border-[hsl(var(--background))] shadow-md z-20">
                    <span class="absolute inset-0 rounded-full bg-green-500 animate-ping opacity-75"></span>
                </div>
            </div>
            
            <div class="flex-1 min-w-0">
                <div class="flex items-center justify-between">
                    <h2 class="text-sm font-semibold truncate text-[hsl(var(--foreground))]">
                        {{ request.user.profile.full_name }}
                    </h2>
                    <div class="flex items-center gap-2">
                        <!-- Edit profile button with hover effect -->
                        <a href="{% url 'permission:view_profile' %}" 
                           class="rounded-full p-1.5 hover:bg-[hsl(var(--accent))] hover:text-[hsl(var(--primary))] transition-all duration-200 relative group/edit"
                           title="Edit Profile">
                            <span class="absolute inset-0 rounded-full bg-[hsl(var(--primary)/0.1)] opacity-0 group-hover/edit:opacity-100 transition-opacity"></span>
                            <svg class="w-4 h-4 relative z-10" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M19.4 15C19.1277 15.6171 19.2583 16.3378 19.73 16.82L19.79 16.88C20.1656 17.2551 20.3766 17.7642 20.3766 18.295C20.3766 18.8258 20.1656 19.3349 19.79 19.71C19.4149 20.0856 18.9058 20.2966 18.375 20.2966C17.8442 20.2966 17.3351 20.0856 16.96 19.71L16.9 19.65C16.4178 19.1783 15.6971 19.0477 15.08 19.32C14.4755 19.5791 14.0826 20.1724 14.08 20.83V21C14.08 22.1046 13.1846 23 12.08 23C10.9754 23 10.08 22.1046 10.08 21V20.91C10.0642 20.2327 9.63587 19.6339 9 19.4C8.38291 19.1277 7.66219 19.2583 7.18 19.73L7.12 19.79C6.74486 20.1656 6.23577 20.3766 5.705 20.3766C5.17423 20.3766 4.66514 20.1656 4.29 19.79C3.91445 19.4149 3.70343 18.9058 3.70343 18.375C3.70343 17.8442 3.91445 17.3351 4.29 16.96L4.35 16.9C4.82167 16.4178 4.95235 15.6971 4.68 15.08C4.42093 14.4755 3.82764 14.0826 3.17 14.08H3C1.89543 14.08 1 13.1846 1 12.08C1 10.9754 1.89543 10.08 3 10.08H3.09C3.76733 10.0642 4.36613 9.63587 4.6 9C4.87235 8.38291 4.74167 7.66219 4.27 7.18L4.21 7.12C3.83445 6.74486 3.62343 6.23577 3.62343 5.705C3.62343 5.17423 3.83445 4.66514 4.21 4.29C4.58514 3.91445 5.09423 3.70343 5.625 3.70343C6.15577 3.70343 6.66486 3.91445 7.04 4.29L7.1 4.35C7.58219 4.82167 8.30291 4.95235 8.92 4.68H9C9.60447 4.42093 9.99738 3.82764 10 3.17V3C10 1.89543 10.8954 1 12 1C13.1046 1 14 1.89543 14 3V3.09C14 3.82764 14.3929 4.42093 15 4.6C15.6171 4.87235 16.3378 4.74167 16.82 4.27L16.88 4.21C17.2551 3.83445 17.7642 3.62343 18.295 3.62343C18.8258 3.62343 19.3349 3.83445 19.71 4.21C20.0856 4.58514 20.2966 5.09423 20.2966 5.625C20.2966 6.15577 20.0856 6.66486 19.71 7.04L19.65 7.1C19.1783 7.58219 19.0477 8.30291 19.32 8.92V9C19.5791 9.60447 20.1724 9.99738 20.83 10H21C22.1046 10 23 10.8954 23 12C23 13.1046 22.1046 14 21 14H20.91C20.2327 14.0026 19.6339 14.3955 19.4 15Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </a>
                        
                        <!-- Logout button with hover effect -->
                        <form method="post" action="{% url 'permission:logout' %}" class="inline">
                            {% csrf_token %}
                            <button type="submit" 
                                    class="rounded-full p-1.5 hover:bg-[hsl(var(--accent))] text-red-500 hover:text-red-600 transition-all duration-200 relative group/logout"
                                    title="Logout">
                                <span class="absolute inset-0 rounded-full bg-red-500/10 opacity-0 group-hover/logout:opacity-100 transition-opacity"></span>
                                <svg class="w-4 h-4 relative z-10" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M16 17L21 12M21 12L16 7M21 12H9M9 3H7.8C6.11984 3 5.27976 3 4.63803 3.32698C4.07354 3.6146 3.6146 4.07354 3.32698 4.63803C3 5.27976 3 6.11984 3 7.8V16.2C3 17.8802 3 18.7202 3.32698 19.362C3.6146 19.9265 4.07354 20.3854 4.63803 20.673C5.27976 21 6.11984 21 7.8 21H9" 
                                          stroke="currentColor" 
                                          stroke-width="2" 
                                          stroke-linecap="round" 
                                          stroke-linejoin="round"/>
                                </svg>
                            </button>
                        </form>
                    </div>
                </div>
                
                <!-- User details with hover effects -->
                <div class="mt-1 flex flex-col text-xs text-[hsl(var(--muted-foreground))]">
                    {% if request.user.profile.position %}
                        <span class="truncate hover:text-[hsl(var(--foreground))] transition-colors duration-200">
                            <span class="inline-block w-3 h-3 rounded-full bg-[hsl(var(--primary)/0.2)] mr-1"></span>
                            {{ request.user.profile.position }}
                        </span>
                    {% endif %}
                    {% if request.user.profile.department %}
                        <span class="truncate hover:text-[hsl(var(--foreground))] transition-colors duration-200">
                            <span class="inline-block w-3 h-3 rounded-full bg-[hsl(var(--primary)/0.2)] mr-1"></span>
                            {{ request.user.profile.department }}
                        </span>
                    {% endif %}
                    <span class="truncate hover:text-[hsl(var(--foreground))] transition-colors duration-200">
                        <span class="inline-block w-3 h-3 rounded-full bg-[hsl(var(--primary)/0.2)] mr-1"></span>
                        {{ request.user.email }}
                    </span>
                </div>
                
                <!-- Premium status badge -->
                <div class="mt-2 flex items-center">
                    <span class="px-2 py-0.5 text-[10px] font-medium rounded-full bg-gradient-to-r from-[hsl(var(--primary))] to-[hsl(var(--primary)/0.8)] text-[hsl(var(--primary-foreground))] shadow-[0_0_10px_rgba(var(--primary),0.3)]">
                        Active
                    </span>
                    <span class="ml-2 text-[10px] text-[hsl(var(--muted-foreground))]">Last login: Today, 10:45 AM</span>
                </div>
            </div>
        </div>
        
        <!-- Quick links -->
        <div class="mt-3 flex items-center justify-between pt-2 border-t border-[hsl(var(--border)/0.5)]">
            <a href="#" class="text-xs text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))] transition-colors">
                <span class="flex items-center">
                    <svg class="w-3 h-3 mr-1" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 14C8.13401 14 5 17.134 5 21H19C19 17.134 15.866 14 12 14Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Account
                </span>
            </a>
            <a href="#" class="text-xs text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))] transition-colors">
                <span class="flex items-center">
                    <svg class="w-3 h-3 mr-1" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Settings
                </span>
            </a>
            <a href="#" class="text-xs text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))] transition-colors">
                <span class="flex items-center">
                    <svg class="w-3 h-3 mr-1" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M11 3.05493C6.50005 3.55238 3 7.36745 3 12C3 16.9706 7.02944 21 12 21C16.6326 21 20.4476 17.5 20.9451 13H11V3.05493Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M21 3L12 12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Activity
                </span>
            </a>
        </div>
    </div>
</aside>